{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Paper,Typography,Box,CircularProgress}from'@mui/material';import UserProfile from'./UserProfile';import TaskCompletion from'./TaskCompletion';import TimeSpent from'./TimeSpent';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserPerformanceComponent=_ref=>{let{username}=_ref;const[userData,setUserData]=useState(null);const[taskCompletions,setTaskCompletions]=useState([]);const[timeSpent,setTimeSpent]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const API_BASE_URL='http://localhost:5000/api';useEffect(()=>{const loadData=async()=>{try{setLoading(true);// Fetch all data in parallel using the fetch API\nconst[userResponse,taskCompletionsResponse,timeSpentResponse]=await Promise.all([fetch(`${API_BASE_URL}/users/${username}`),fetch(`${API_BASE_URL}/users/${username}/task-completions`),fetch(`${API_BASE_URL}/users/${username}/time-spent`)]);// Check for HTTP errors\nif(!userResponse.ok)throw new Error('Failed to fetch user data');if(!taskCompletionsResponse.ok)throw new Error('Failed to fetch task completions');if(!timeSpentResponse.ok)throw new Error('Failed to fetch time spent data');// Parse JSON responses\nconst userData=await userResponse.json();const taskCompletions=await taskCompletionsResponse.json();const timeSpent=await timeSpentResponse.json();setUserData(userData);setTaskCompletions(taskCompletions);setTimeSpent(timeSpent);setError(null);}catch(err){console.error('Error loading data:',err);setError('Failed to load user performance data');}finally{setLoading(false);}};loadData();},[username]);if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"200px\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"200px\",children:/*#__PURE__*/_jsx(Typography,{color:\"error\",children:error})});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{p:3,mb:3},children:/*#__PURE__*/_jsx(UserProfile,{userData:userData})}),/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{p:3,mb:3},children:/*#__PURE__*/_jsx(TaskCompletion,{taskCompletions:taskCompletions})}),/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{p:3},children:/*#__PURE__*/_jsx(TimeSpent,{timeSpent:timeSpent})})]});};export default UserPerformanceComponent;","map":{"version":3,"names":["React","useState","useEffect","Container","Paper","Typography","Box","CircularProgress","UserProfile","TaskCompletion","TimeSpent","jsx","_jsx","jsxs","_jsxs","UserPerformanceComponent","_ref","username","userData","setUserData","taskCompletions","setTaskCompletions","timeSpent","setTimeSpent","loading","setLoading","error","setError","API_BASE_URL","loadData","userResponse","taskCompletionsResponse","timeSpentResponse","Promise","all","fetch","ok","Error","json","err","console","display","justifyContent","alignItems","minHeight","children","color","elevation","sx","p","mb"],"sources":["/home/david/Documents/Uni/Semester_3/DBMS/01_Final_Project/client/src/components/UserPerformanceComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Paper, Typography, Box, CircularProgress } from '@mui/material';\nimport UserProfile from './UserProfile';\nimport TaskCompletion from './TaskCompletion';\nimport TimeSpent from './TimeSpent';\n\nconst UserPerformanceComponent = ({ username }) => {\n  const [userData, setUserData] = useState(null);\n  const [taskCompletions, setTaskCompletions] = useState([]);\n  const [timeSpent, setTimeSpent] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  const API_BASE_URL = 'http://localhost:5000/api';\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        setLoading(true);\n        \n        // Fetch all data in parallel using the fetch API\n        const [userResponse, taskCompletionsResponse, timeSpentResponse] = await Promise.all([\n          fetch(`${API_BASE_URL}/users/${username}`),\n          fetch(`${API_BASE_URL}/users/${username}/task-completions`),\n          fetch(`${API_BASE_URL}/users/${username}/time-spent`)\n        ]);\n        \n        // Check for HTTP errors\n        if (!userResponse.ok) throw new Error('Failed to fetch user data');\n        if (!taskCompletionsResponse.ok) throw new Error('Failed to fetch task completions');\n        if (!timeSpentResponse.ok) throw new Error('Failed to fetch time spent data');\n        \n        // Parse JSON responses\n        const userData = await userResponse.json();\n        const taskCompletions = await taskCompletionsResponse.json();\n        const timeSpent = await timeSpentResponse.json();\n        \n        setUserData(userData);\n        setTaskCompletions(taskCompletions);\n        setTimeSpent(timeSpent);\n        setError(null);\n      } catch (err) {\n        console.error('Error loading data:', err);\n        setError('Failed to load user performance data');\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    loadData();\n  }, [username]);\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\n        <Typography color=\"error\">{error}</Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Container>\n      <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\n        <UserProfile userData={userData} />\n      </Paper>\n      <Paper elevation={3} sx={{ p: 3, mb: 3 }}>\n        <TaskCompletion taskCompletions={taskCompletions} />\n      </Paper>\n      <Paper elevation={3} sx={{ p: 3 }}>\n        <TimeSpent timeSpent={timeSpent} />\n      </Paper>\n    </Container>\n  );\n};\n\nexport default UserPerformanceComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}